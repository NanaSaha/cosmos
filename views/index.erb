<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cosmos Flight Data</title>
   <link rel="stylesheet" type="text/css" href="/cosmos.css">
    <script src="/cosmos.js"></script>
</head>
<body>
     <h1>Cosmos Flight Information</h1>

    
  <div>
        <label for="filter_destination">Filter by Destination:</label>
        <input type="text" id="filter_destination" placeholder="Enter destination..">

        <label for="filter_airline">Filter by Airline:</label>
        <input type="text" id="filter_airline" placeholder="Enter airline..">

        <button id="srchbtn">Filter</button>
       
    </div>
    <table border="1" id="flightTable">
        <thead>
            <tr>
            <th>No</th>
                <th>Flight Number</th>
                <th>Airline</th>
                <th>Origin</th>
                <th>Destination</th>
                <th>Scheduled Departure</th>
                <th>Actual Departure</th>
                <th>Delays</th>
            </tr>
        </thead>
        <tbody id="getflightTableBody">
           
          <%count= 1%>
            <% @all_flights.each do |fl| %>
            <tr>
            <td><%= count %></td>
                <td><%= fl['flight_number'] %></td>
                <td><%= fl['airline'] %></td>
                <td><%= fl['origin'] %></td>
                <td><%= fl['destination'] %></td>
                <td><%= fl['scheduled_departure_at'] %></td>
                <td><%= fl['actual_departure_at'] %></td>
                <td>
                    <ul>
                        <% fl['delays'].each do |delay| %>
                        <li>Code: <%= delay['code'] %> </li>
                        <li>Description: <%= delay['description'] %> (<%= delay['time_minutes'] %> minutes)</li>
                        <li>Delay Time: <%= delay['time_minutes'] %> minutes</li>
                        <% end %>
                    </ul>
                </td>
            </tr>
                <%count=count+1%>
            <% end %>
        </tbody>
    </table>

      <!-- Show if no flights are found -->
    <div id="nullinfo" class="nullinfo">
        No flights found matching after entering parameters.
    </div>
    <br>

      <button id="bkBtn">Go Back</button>



  
</body>


</html>
